---
import Engrane from "@assets/icons/astro/Engrane.astro";
import ChipCategory from "./ChipCategory.astro";

export interface Zone {
  id: string;
  name: string;
}
interface Props {
  numberLevel: number;
  totalExercise: number;
  frequencyDays: number;
  to: string;
  zones: Zone[];
}

const { numberLevel, totalExercise, frequencyDays, to, zones } = Astro.props;
console.log(to)
const textCenter = to.includes('fat_burning');
---

<a
  class="rounded-[20px] bg-white w-11/12 shadow-2xl"
  data-to-routine={to}
  href={to}
>
  <div
    class="rounded-t-[20px] bg-theme-primary flex justify-between items-center px-4 py-2"
    class:list={{'justify-center': textCenter}}
  >
    <p class="text-theme-text-light text-xl font-medium" class:list={{'text-center': textCenter}}>NIVEL {numberLevel}</p>
    {
      to.includes('adaptation') && (
        <div class="flex gap-1">
          {new Array(numberLevel).fill(0).map(() => (
            <Engrane active />
          ))}
        </div>
      )
    }
    {
      to.includes('health') && (
        <div class="flex gap-1">
          {new Array(4).fill(0).map((_, it) => (
            <Engrane active={it < numberLevel} />
          ))}
        </div>
      )
    }
    {to.includes('muscle_gain') && null}
    {to.includes('fat_burning') && null}
  </div>

  <div
    class="flex w-full items-center text-purple-600 font-bold text-sm p-3 justify-center text-center"
  >
    <span class="px-2 font-extrabold w-full border-r border-current"
      >EJERCICIOS</span
    >
    <span class="px-2 font-extrabold w-full">ZONA</span>
    <span class="px-2 font-extrabold w-full border-l border-current"
      >FRECUENCIA</span
    >
  </div>

  <div class="flex items-center text-theme-primary text-sm pb-3">
    <div class="w-1/3">
      <p class="text-7xl text-center pl-2 font-extrabold">{totalExercise}</p>
    </div>
    <div class="w-1/3 text-center flex flex-col gap-1.5 text-theme-primary">
      {zones.map((zone) => <ChipCategory name={zone.name} />)}
    </div>
    <div class="w-1/3 flex justify-center items-center flex-col">
      <svg width="43" height="43">
        <use href="/icons.svg#calendar"></use>
      </svg>
      <div class="flex justify-center items-center gap-1">
        <span class="text-2xl font-medium">{frequencyDays}</span>
        <span class="text-[9px] font-semibold">dias por <br />semana</span>
      </div>
    </div>
  </div>
</a>
