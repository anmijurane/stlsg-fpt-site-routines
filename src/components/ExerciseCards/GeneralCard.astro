---
import ChipCategory from "@components/ChipCategory.astro";
import { CheckButtonWithState } from "@components/react/CheckButton";
import type { Exercise } from "@interfaces/routines";

interface Props extends Exercise {
  dayId: number;
}

const { zone, series, name, muscle, reps, active, rest, dayId, id } = Astro.props;
const to = `/exercise/${name.toLocaleLowerCase().normalize('NFD').replace(/\ /g, '_')}`;
---

<div
  class="border border-theme-grandient rounded-[20px] w-full bg-gradient-to-br from-[#FFFFFF] to-[#FAEEFF]"
>
  <div class="flex h-full justify-between px-2 pt-4 mb-2 items-center w-full">
    <p class="text-theme-primary text-2xl font-semibold w-10/12">{name}</p>
    <CheckButtonWithState client:only="react" id={id || ""} dayId={dayId} />
  </div>
  <div class="flex items-center px-4 gap-2">
    <div class="w-5/12 h-full">
      <img
        src={`/muscles${muscle.imgUrl}.svg`}
        alt={`mÃºculo a trabajar: ${muscle.name}`}
        class="border border-theme-primary rounded-xl w-full"
        loading="lazy"
      />
    </div>
    <div class="w-6/12 flex flex-col items-start justify-start h-full gap-1">
      <div class="w-fit h-1/3">
        <ChipCategory name={zone} withLetter />
      </div>
      <div class="w-fit h-2/3 font-medium text-base">
        {series || reps ? (
          <p><strong>{`${series}`.padStart(2, "0")}</strong> Series</p>
          <p><strong>{`${reps}`.padStart(2, "0")}</strong> Repeticiones</p>
        ) : (
          <p>Activo{" "}<strong>{`${active?.by}`.padStart(2, "0")} {active?.unit}</strong></p>
          <p>Descanso{" "}<strong>{`${rest?.by}`.padStart(2, "0")} {rest?.unit}</strong></p>
        )}
      </div>
    </div>
  </div>
  <div class="flex items-center justify-end px-4 my-1 h-fit -translate-y-2">
    <slot />
  </div>
</div>
